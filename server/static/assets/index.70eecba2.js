var P=Object.defineProperty;var g=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var I=(t,s,e)=>s in t?P(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,C=(t,s)=>{for(var e in s||(s={}))O.call(s,e)&&I(t,e,s[e]);if(g)for(var e of g(s))T.call(s,e)&&I(t,e,s[e]);return t};import{d as y,a as U,c as A,w as S,_ as x,o as a,b as r,t as h,e as v,f as V,g as m,v as u,h as i,r as b,i as E,j,k as R,R as k,l as J,H as w,p as H,m as W,n as M,q as $,s as L}from"./vendor.7a0cb014.js";const N=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=e(o);fetch(o.href,n)}};N();var Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABICAYAAABLJIP0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATcSURBVHgB7ZyxbhtHEIZn9o4GHDVMkSJAinORWhQgCTSQxGTHkupSJDD1BM4bSOxSWg8QmEIewKwCBgjgU2LEB9GAz70BnYEgSMnOCXncyeyRYiSZinaPFMHb9QcYPEvHk/bXzu7szC8h3BLVF9Ug9UtND2GTJNYIoYwAZVgBBDDgr5XwVSIBTtJ01I3vR4nJMxCWzM7ply1+6kMErMF6ERPRUX/3t47OzUsTZrv/RU2QeMJPDGCdQUhIUvsmgRYWpvKqVi6l8oAf9B0UCA63xyNftOOtcDDv8wsJU3lRC+748qm6hCLCs2c4GtbnrT+5hclE8eSztQ+dm7hGnFzCqPC5M5KvCi/Kf8RDX9QvhpWAHKg1xSJRFJVsTBcwnjFqO0bEJ2AhEmT95c7zUF0bzxjOTw7AUgSK2Q/cSJhp8haArRAE2RjBUBgOoUdgO5y1T140meYsZ+AAvpcG2jPGx3ETHGE89Pa0hfE88QBcwYdNbWEIKABHIK4MGAhj8W50FYKytjCrKjKtCeVcRwIXMAmlAbjDQD+UCJ0RhidBYhBKdAKOgBLeagsjJcXgCEgU6me+5HXBEZBGXW1hovthgkAhWA6vL3HEZU6j7VoSHIPtcO9JvRhX8HZPvzqztibDhfHT7V/vqUvjBE+i3AdLUY2482tjYVRNlPvQR2AZakwXu5O5jgQjTxzyiz3bN4fQxmRMM3IJo/ovIhV7vIQnUHRYFMENt/BKqzb3IVJt32Is6gUXJ1aiRHNatAudrpU4w5LYKuKao77nj7j7GF3jm1maDSRrxKmeUwFsIJLk/nlj7frblsy0U6naLGvlgCCVtXOCunLj0FWq3G5J/XGTY5WL6Bio0uhKrWbE/wSFY4LXfjrqRrdtNas2vg5SKjURxSb/t0ZcH0Vc0YCzwULCZYGE+8wnKXrduNdJ4BbQFman8W2L12rVpavBOoGcT5E86vd+7MASuVGY7cY3NQRPNbsDWG8SPrC0lyXQtcJUaq1y6S4dcMAWylvHI3o8eoftOOwsVIqdK0yl0QpKSE9ZlGJ663j2jADri6w/7wmTiQL0DIrfYFtInEuZbxY+doiiyGa9GhPk4JIw2ZpiUyuWl4LpmIyZhdJ0O7bSW8dN+vrLXic0ec+FGSOs9dZxEd/4B54JM5ktVrsZgukYtcmEIRL2e+smWbs2ON2enfDWlYQf/P7TD2917hU+ueOtG9JwT/deDiV3vHVIWUVAC7XGBOAONd0bBbokjEHdSAA65K0jE2E+MBfBKrrjrUP9sQqTmwuP1G8OCqe8dUBayZ1CELnjrZNC3xEmfHTHW2fiIxQRl/64QRWC7RDEkUGZM9uuuedsv7cO0ch4MKvg7TYentn6GybqL4Oc9o7vmbxnluBJQHu9dYBt0/d45xd/vomTTz/f/JjDqgo2QXjU/7nzPRhy6UgwficO1SIFlqBCaOMfOIQcXBJGtTU9xL3JX+spNpj9BgnWw5yt2vcOkWpLUw8ssjiIEKsxRAu0aL15H/zjTTz45LOtYyzR3cKtObymbPyN+89/6fwFC3CjDWSn0WrxGeNg3bdyNcPVzmraWPuf5+mhBOJz1SOepmvmrYNQJaj9XqcDSySH1awVpARNPn4+4OQnyEqjq6oCqtrRpEwSEuFrH6Eb3ZLV7F+WksYYPlQxdgAAAABJRU5ErkJggg==";var d=(t,s)=>{const e=t.__vccOpts||t;for(const[c,o]of s)e[c]=o;return e};const Y=y({inject:["streamsync"],setup(){return{darkTheme:U}},mounted:function(){this.streamsync.mountComponents(this.$refs.container),document.title=this.title},computed:{title:function(){var t;return(t=this.streamsync.state.title)!=null?t:"Streamsync App"}}}),D={class:"App"},G=r("div",{class:"topLine"},null,-1),K=r("img",{src:Q,alt:"Streamsync"},null,-1),X={ref:"container"};function q(t,s,e,c,o,n){const l=V,p=x;return a(),A(p,{theme:t.darkTheme},{default:S(()=>[r("div",D,[G,r("header",null,[K,r("h1",null,h(t.title),1)]),r("main",null,[r("div",X,null,512)])]),v(l)]),_:1},8,["theme"])}var z=d(Y,[["render",q]]);const F={inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},computed:{text:function(){return this.streamsync.getContentValue(this.componentId,"text")},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},Z=["data-streamsync-id"];function tt(t,s,e,c,o,n){return m((a(),i("div",{class:"CoreText component","data-streamsync-id":e.componentId},[b(t.$slots,"default",{},()=>[E(h(n.text),1)])],8,Z)),[[u,!n.isPlaceholder]])}var et=d(F,[["render",tt]]);const nt={inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},computed:{text:function(){return this.streamsync.getContentValue(this.componentId,"text")},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},st=["data-streamsync-id"];function ot(t,s,e,c,o,n){return m((a(),i("button",{class:"CoreButton component","data-streamsync-id":e.componentId},[b(t.$slots,"default",{},()=>[E(h(n.text),1)])],8,st)),[[u,!n.isPlaceholder]])}var ct=d(nt,[["render",ot]]);const rt={inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el),this.streamsync.mountComponents(this.$refs.container,this.componentId)},computed:{title:function(){return this.streamsync.getContentValue(this.componentId,"title")},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},at=["data-streamsync-id"],it={key:0},dt={ref:"container"};function lt(t,s,e,c,o,n){return m((a(),i("div",{class:"CoreSection component","data-streamsync-id":e.componentId},[n.title?(a(),i("h2",it,h(n.title),1)):j("",!0),r("div",dt,null,512)],8,at)),[[u,!n.isPlaceholder]])}var mt=d(rt,[["render",lt]]);const ut={inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el),this.streamsync.mountComponents(this.$refs.container,this.componentId)},computed:{isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},ht=["data-streamsync-id"],pt={ref:"container"};function _t(t,s,e,c,o,n){return m((a(),i("div",{class:"CoreWhen component","data-streamsync-id":e.componentId},[r("div",pt,null,512)],8,ht)),[[u,!n.isPlaceholder]])}var ft=d(ut,[["render",_t]]);const yt={inject:["streamsync"],emit:["change"],data:function(){return{value:0}},props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},methods:{handleChange:function(t){this.value=t.target.value,this.$emit("change",t)}},computed:{text:function(){return this.streamsync.getContentValue(this.componentId,"text")},min:function(){const t=this.streamsync.getContentValue(this.componentId,"min");return t===null?0:t},max:function(){const t=this.streamsync.getContentValue(this.componentId,"max");return t===null?0:t},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},vt=["data-streamsync-id"],gt={class:"main"},It={class:"inputContainer"},Ct=["min","max","value"],$t={class:"rangeLabelContainer"},At={class:"min"},St={class:"max"},xt={class:"label"};function bt(t,s,e,c,o,n){return m((a(),i("div",{class:"CoreSlider component","data-streamsync-id":e.componentId},[r("div",gt,[r("div",It,[r("input",{type:"range",min:n.min,max:n.max,value:t.value,onChange:s[0]||(s[0]=R(l=>n.handleChange(l),["prevent"]))},null,40,Ct)]),r("div",$t,[r("div",At,h(n.min),1),r("div",St,h(n.max),1)])]),r("div",xt,[r("h2",null,h(t.value),1)])],8,vt)),[[u,!n.isPlaceholder]])}var Et=d(yt,[["render",bt],["__scopeId","data-v-0b805eaa"]]);const jt={inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},computed:{figure:function(){return this.streamsync.getContentValue(this.componentId,"figure")},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},wt=["data-streamsync-id"],Lt=["src"];function Bt(t,s,e,c,o,n){return m((a(),i("div",{class:"CorePyplot component","data-streamsync-id":e.componentId},[n.figure?(a(),i("img",{key:0,src:n.figure},null,8,Lt)):j("",!0)],8,wt)),[[u,!n.isPlaceholder]])}var Pt=d(jt,[["render",Bt]]);const Ot={inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},computed:{text:function(){return this.streamsync.getContentValue(this.componentId,"text")},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},Tt=["data-streamsync-id"];function Ut(t,s,e,c,o,n){return m((a(),i("div",{class:"CoreHeading component","data-streamsync-id":e.componentId},[r("h1",null,h(n.text),1)],8,Tt)),[[u,!n.isPlaceholder]])}var Vt=d(Ot,[["render",Ut],["__scopeId","data-v-5eb8ae2c"]]),Rt=new k("commonmark");const kt={inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},computed:{text:function(){let t=this.streamsync.getContentValue(this.componentId,"text");return Rt.render(t)},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},Jt=["data-streamsync-id"],Ht=["innerHTML"];function Wt(t,s,e,c,o,n){return m((a(),i("div",{class:"component","data-streamsync-id":e.componentId},[r("div",{innerHTML:n.text},null,8,Ht)],8,Jt)),[[u,!n.isPlaceholder]])}var Mt=d(kt,[["render",Wt]]);const Nt={inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},computed:{text:function(){let t=this.streamsync.getContentValue(this.componentId,"text");return J.renderToString(t,{throwOnError:!1,displayMode:!0,output:"html"})},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},Qt=["data-streamsync-id"],Yt=["innerHTML"];function Dt(t,s,e,c,o,n){return m((a(),i("div",{class:"component","data-streamsync-id":e.componentId},[r("div",{innerHTML:n.text},null,8,Yt)],8,Qt)),[[u,!n.isPlaceholder]])}var Gt=d(Nt,[["render",Dt]]);const Kt={inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},computed:{text:function(){return this.streamsync.getContentValue(this.componentId,"text")},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}},Xt=["data-streamsync-id"],qt=["innerHTML"];function zt(t,s,e,c,o,n){return m((a(),i("div",{class:"component","data-streamsync-id":e.componentId},[r("div",{innerHTML:n.text},null,8,qt)],8,Xt)),[[u,!n.isPlaceholder]])}var Ft=d(Kt,[["render",zt]]);w.registerLanguage("python",H);const Zt=y({inject:["streamsync"],setup(){return{hljs:w}},props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},computed:{text:function(){return this.streamsync.getContentValue(this.componentId,"text")},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}}),te=["data-streamsync-id"];function ee(t,s,e,c,o,n){const l=W,p=x;return a(),A(p,{hljs:t.hljs},{default:S(()=>[m(r("div",{class:"component","data-streamsync-id":t.componentId},[v(l,{code:t.text,language:"python"},null,8,["code"])],8,te),[[u,!t.isPlaceholder]])]),_:1},8,["hljs"])}var ne=d(Zt,[["render",ee]]);const se=y({inject:["streamsync"],props:{componentId:String},mounted:function(){this.streamsync.addEventListeners(this.componentId,this.$el)},computed:{data:function(){return this.streamsync.getContentValue(this.componentId,"data")},columns:function(){return this.streamsync.getContentValue(this.componentId,"columns")},isPlaceholder:function(){return this.streamsync.components[this.componentId].placeholder}}}),oe=["data-streamsync-id"];function ce(t,s,e,c,o,n){const l=M;return m((a(),i("div",{class:"component","data-streamsync-id":t.componentId},[v(l,{columns:t.columns,data:t.data,bordered:!1},null,8,["columns","data"])],8,oe)),[[u,!t.isPlaceholder]])}var re=d(se,[["render",ce]]),ae={button:ct,text:et,section:mt,when:ft,slider:Et,pyplot:Pt,heading:Vt,markdown:Mt,latex:Gt,simple_table:Ft,code:ne,data_table:re},f={components:null,initialState:null,state:null,webSocket:null,startTime:null,init:async function(){const s=await(await fetch("/api/init")).json();console.log(s),this.components=$(s.components),this.initialState=C({},s.state),this.state=$(s.state)},startSync:function(){const t=new URL("/api/stream",window.location.href);t.protocol=t.protocol.replace("http","ws"),this.webSocket=new WebSocket(t.href),this.webSocket.onmessage=s=>{const e=JSON.parse(s.data),c=e.mutations,o=e.components;Object.assign(this.state,c),Object.keys(this.components).forEach(n=>{o[n]===void 0&&delete this.components[n]}),Object.assign(this.components,o)},this.webSocket.onclose=()=>{this.reconnect()}},reconnect:async function(){this.webSocket=null,console.log("Disconnected... Will atempt to reconnect");try{Object.assign(this.state,this.initialState),this.startSync()}catch{console.log("Reconnect failed... Will try again"),setTimeout(()=>{this.reconnect()},1e3)}},getContentValue:function(t,s){const e=this.components[t];if(!e.content)return null;const c=e.content[s];if(c==null)return null;if(isNaN(c)===!1)return c;let o;const n=c.replace(/[\\]?@([\w]*)/g,(p,_)=>{if(p.charAt(0)=="\\")return p.substring(1);if(!(!_||this.state[_]===void 0)){if(c===p){o=this.state[_];return}return this.state[_]}});return o===void 0?n:o},forward:function(t){var e,c;if(!this.webSocket)return;const s={type:t.type,targetId:(e=t.target)==null?void 0:e.closest("[data-streamsync-id]").dataset.streamsyncId,value:((c=t.target)==null?void 0:c.value)||null};this.webSocket.send(JSON.stringify(s))},addEventListeners:function(t,s){const e=this.components[t];!e.handlers||Object.keys(e.handlers).forEach(c=>{s.addEventListener(c,o=>{this.forward(o)})})},mountComponents:function(t,s=null){Object.entries(this.components).forEach(([e,c])=>{if(c.container!==s)return;const o=this.renderComponent(e,c);!o||t.appendChild(o)})},renderComponent:function(t,s){const e=ae[s.type];if(!e)return;const c=document.createElement("span"),o=L(e,{componentId:t,isPlaceholder:s.placeholder});return o.provide("streamsync",this),o.mount(c),c}};const B=L(z);B.provide("streamsync",f);f.init().then(()=>{f.startSync(),B.mount("#app")});
